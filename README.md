# samba-smbd-3.x---4.x-exploit

For this second repository, I would like to gain access to a vulnerable in the Metasploitable called:

"Samba smbd 3.X - 4.X (workgroup: WORKGROUP)" it is a netbios-ssn service and it has two open ports (139/TCP and 445/TCP). 

This vulnerability is very easy to exploit. You just need to find the right exploit module to gain access. Fortunately, I will also be showing you additional information on how to find the full-service version name of the "netbios-ssn". Why? Well because as you can see "Samba smbd 3.X - 4.X" contains an unknown value. You can still exploit it without knowing the exact full version name but knowing how to find a full version name can be useful for some other situation.

Let us begin! 

------------------------------------------------------------------------------------------------------

Step 1: Using good old NMAP

Note: If you haven't look my very first repository, I will be using my Metasploitable machine. This means the IP address will be the Metasploitable machine itself. This can be different based on your target's IP address and situation. 

Here we will pay attention to these two highlighted open ports: 



![twoports](https://github.com/user-attachments/assets/07d7f78a-ec27-4616-a0e4-9062ff657df7)


In this case, we can choose whichever port we want either port 139 or 445. So we are going to choose the port 139. 


------------------------------------------------------------------------------------------------------------------------------

Step 2: Finding the full version name 


To find the full version name, we will have to use the Metasploit Framework in our Kali Linux. And then type "search smb" and press enter. The Metasploit Framework will then give you all the list  of modules. As shown below:


![metasploit 2](https://github.com/user-attachments/assets/12ce5a3e-3fd8-42bb-b0fc-29f920c72b07)

Now, what we want to do is to use an auxiliary module. From my understanding, the auxiliary module is a module where it can help you to get further information about your target and it can also be used for an attack. The only difference between the auxiliary module and the exploit module is that the auxiliary module does not require any payload to run the attack. A payload means something that you use for the attack. It can be malware for example. 

However, in this case, we are using the auxiliary module to conduct a scanning to find the version name. Therefore we must find the module called "auxiliary/scanner/smb/smb_version"


![auxiliary](https://github.com/user-attachments/assets/40cedd24-aa03-4848-b677-a174352fd2b8)


As you can see, it mentions "smb version detection" at the description. Therefore, this is what we need. Next, all you have to do is:

1) Copy the name of the module "auxiliary/scanner/smb/smb_version"
   
1a) It is recommended to clear the screen by typing "clear" so that things won't get messy. (OPTIONAL) 

2) Type "use" and then paste the module name that you copied "auxiliary/scanner/smb/smb_version"
   
3) Press enter 

![smb version](https://github.com/user-attachments/assets/68949ccb-2254-4a65-a6c7-fbbb827e22c7)

And that is how it is supposed to be.

Next, to know more about the information of the module, you can type "show info" and you will get the information that you need. 


